"use strict";(self["webpackChunktest1"]=self["webpackChunktest1"]||[]).push([[281],{6281:function(s,e,t){t.r(e),t.d(e,{default:function(){return as}});var i=t(6252),l=t(3577);const o={class:"list-unstyled row align-items-center justify-content-center mt-3 mb-5"},a=(0,i._)("li",{class:"col-2 cart-step finish-step"},[(0,i._)("span",null,"step1")],-1),n=(0,i._)("li",{class:"col-2 cart-step-line finish-step-line"},null,-1),r=(0,i._)("li",{class:"col-2 cart-step finish-step"},[(0,i._)("span",null,"step2")],-1),c=(0,i._)("span",null,"step3",-1),d=[c],p={key:0,class:"list-group border mb-3"},u={class:"d-flex border-bottom pb-3 my-3"},b=(0,i._)("div",{class:"col-4 ps-3"},"訂單編號",-1),h={class:"col-8"},_={class:"d-flex border-bottom pb-3 mb-3"},y=(0,i._)("div",{class:"col-4 ps-3"},"訂單日期",-1),f={class:"col-8"},m={class:"d-flex border-bottom pb-3 mb-3"},w=(0,i._)("div",{class:"col-4 ps-3"},"姓名",-1),g={class:"col-8"},v={class:"d-flex border-bottom pb-3 mb-3"},x=(0,i._)("div",{class:"col-4 ps-3"},"電話",-1),P={class:"col-8"},k={class:"d-flex border-bottom pb-3 mb-3"},L=(0,i._)("div",{class:"col-4 ps-3"},"信箱",-1),D={class:"col-8"},z={class:"d-flex border-bottom pb-3 mb-3"},C=(0,i._)("div",{class:"col-4 ps-3"},"地址",-1),$={class:"col-8"},I={class:"d-flex border-bottom pb-3 mb-3"},O=(0,i._)("div",{class:"col-4 ps-3"},"備註",-1),W={class:"col-8"},S={class:"d-flex border-bottom pb-3 mb-3"},j=(0,i._)("div",{class:"col-4 ps-3"},"總金額",-1),q={class:"col-8"},T={class:"d-flex pb-3"},B=(0,i._)("div",{class:"col-4 ps-3"},"訂購商品",-1),H={class:"col-8 pe-3 d-flex justify-content-between"},N={class:"position-absolute"},Y={key:0},K={key:1},U={class:"d-none d-md-flex col-2 h-100 pe-0"},V=["src","alt"],Z={class:"col-6 col-md-5 d-flex align-items-center"},A={class:"col-2 d-flex align-items-center"},E={class:"col-4 col-md-3 d-flex align-items-center justify-content-end"},F={key:1,class:"buyer-finish position-relative mb-3 overflow-hidden"},G=(0,i._)("i",{class:"bi bi-balloon-heart position-absolute start-50 translate-middle text-danger",style:{"font-size":"100px"}},null,-1),J=(0,i._)("p",{class:"fs-1 position-absolute top-60 start-50 translate-middle"},"已完成付款",-1),M=(0,i._)("div",{class:"buyer-finish-question position-absolute top-70 start-50 translate-middle-x"},[(0,i._)("small",null,"♡ 若有任何疑問，歡迎與我們聯繫 ♡")],-1),Q=[G,J,M],R={key:2,class:"text-end"},X={key:3,class:"text-end"},ss={key:0},es={key:1};function ts(s,e,t,c,G,J){const M=(0,i.up)("LoadingView");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(M,{active:G.isLoading},null,8,["active"]),(0,i._)("div",{class:(0,l.C_)(["container mb-5",{"mb-lg-0":G.openProductList}])},[(0,i._)("ul",o,[a,n,r,(0,i._)("li",{class:(0,l.C_)(["col-2 cart-step-line",{"finish-step-line":G.finishPay}])},null,2),(0,i._)("li",{class:(0,l.C_)(["col-2 cart-step",{"finish-step":G.finishPay}])},d,2)]),(0,i._)("div",{class:(0,l.C_)(["container buyer-checkout-list",{"buyer-checkout-list-height":G.openProductList}])},[G.finishPayWantShowOrder?((0,i.wg)(),(0,i.iD)("ul",p,[(0,i._)("li",u,[b,(0,i._)("div",h,(0,l.zw)(G.buyerID),1)]),(0,i._)("li",_,[y,(0,i._)("div",f,(0,l.zw)(s.$filters.date(G.order.create_at)),1)]),(0,i._)("li",m,[w,(0,i._)("div",g,(0,l.zw)(G.user.name),1)]),(0,i._)("li",v,[x,(0,i._)("div",P,(0,l.zw)(G.user.tel),1)]),(0,i._)("li",k,[L,(0,i._)("div",D,(0,l.zw)(G.user.email),1)]),(0,i._)("li",z,[C,(0,i._)("div",$,(0,l.zw)(G.user.address),1)]),(0,i._)("li",I,[O,(0,i._)("div",W,(0,l.zw)(G.order.message),1)]),(0,i._)("li",S,[j,(0,i._)("div",q,"NT$ "+(0,l.zw)(s.$filters.currency(G.order.total)),1)]),(0,i._)("li",T,[B,(0,i._)("div",H,[(0,i._)("span",null,"共 "+(0,l.zw)(G.orderLength)+" 項",1),(0,i._)("div",{class:"open-product-list position-relative pointer",onClick:e[0]||(e[0]=s=>G.openProductList=!G.openProductList)},[(0,i._)("i",{class:(0,l.C_)(["position-absolute bi",{"bi-eye-slash":G.openProductList,"bi-eye":!G.openProductList}])},null,2),(0,i._)("span",N,[G.openProductList?((0,i.wg)(),(0,i.iD)("span",Y,"顯示商品")):((0,i.wg)(),(0,i.iD)("span",K,"隱藏商品"))])])])])])):(0,i.kq)("",!0),(0,i._)("ul",{class:(0,l.C_)(["buyer-open-product-list list-group box-shadow px-3 mb-3",{"d-none":G.openProductList}])},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(G.order.products,(e=>((0,i.wg)(),(0,i.iD)("li",{class:"row py-2 border-bottom",key:e.id},[(0,i._)("div",U,[(0,i._)("img",{src:e.product.imageUrl,alt:e.id,class:"w-100 h-100"},null,8,V)]),(0,i._)("div",Z,(0,l.zw)(e.product.title),1),(0,i._)("div",A,"x "+(0,l.zw)(e.qty),1),(0,i._)("div",E,"NT$ "+(0,l.zw)(s.$filters.currency(e.final_total)),1)])))),128))],2),G.finishPayWantShowOrder?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",F,Q)),G.finishPay?((0,i.wg)(),(0,i.iD)("div",X,[(0,i._)("button",{class:"btn btn-primary",onClick:e[2]||(e[2]=s=>G.finishPayWantShowOrder=!G.finishPayWantShowOrder)},[G.finishPayWantShowOrder?((0,i.wg)(),(0,i.iD)("span",es,"隱藏訂單")):((0,i.wg)(),(0,i.iD)("span",ss,"查看訂單"))])])):((0,i.wg)(),(0,i.iD)("div",R,[(0,i._)("button",{class:"btn btn-danger text-white",onClick:e[1]||(e[1]=(...s)=>J.pay&&J.pay(...s))},"確認付款")]))],2)],2)],64)}var is={data(){return{isLoading:!1,order:{},user:{},orderLength:0,buyerID:"",openProductList:!0,finishPay:!1,finishPayWantShowOrder:!0}},methods:{getBuyerInfo(){this.isLoading=!0;const s=`https://vue3-course-api.hexschool.io/api/irenelee-api/order/${this.buyerID}`;this.$http.get(s).then((s=>{s.data.success&&(this.isLoading=!1,this.order=s.data.order,this.user=s.data.order.user,this.orderLength=Object.keys(s.data.order.products).length,window.scrollTo(0,0))})).catch((s=>console.log(s.response)))},pay(){this.isLoading=!0;const s=`https://vue3-course-api.hexschool.io/api/irenelee-api/pay/${this.buyerID}`;this.$http.post(s).then((s=>{s.data.success&&(this.isLoading=!1,this.finishPay=!0,this.openProductList=!0,this.finishPayWantShowOrder=!1,window.scrollTo(0,0))})).catch((s=>console.log(s.response)))}},mounted(){this.buyerID=this.$route.params.buyerID,this.getBuyerInfo()}},ls=t(3744);const os=(0,ls.Z)(is,[["render",ts]]);var as=os}}]);
//# sourceMappingURL=281.e3c1df4b.js.map