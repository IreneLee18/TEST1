"use strict";(self["webpackChunktest1"]=self["webpackChunktest1"]||[]).push([[491],{9946:function(e,t,l){l.d(t,{Z:function(){return y}});var s=l(6252),a=l(3577);const d={class:"modal fade",id:"couponModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"},r={class:"modal-dialog"},o={class:"modal-content"},i={class:"modal-header bg-danger"},n={class:"modal-title text-white",id:"staticBackdropLabel"},c=(0,s._)("input",{type:"button",value:"✕",class:"bg-transparent border-0 text-white","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),p={class:"modal-body"},u={class:"modal-footer"},_=(0,s._)("button",{type:"button",class:"btn btn-outline-primary","data-bs-dismiss":"modal"},"取消",-1);function m(e,t,l,m,b,h){return(0,s.wg)(),(0,s.iD)("div",d,[(0,s._)("div",r,[(0,s._)("div",o,[(0,s._)("div",i,[(0,s._)("h5",n,"刪除"+(0,a.zw)(l.item.title),1),c]),(0,s._)("div",p," 確認要刪除"+(0,a.zw)(l.item.title)+"嗎？ ",1),(0,s._)("div",u,[_,(0,s._)("button",{type:"button",class:"btn btn-danger text-white",onClick:t[0]||(t[0]=t=>e.$emit("delete-item"))},"確認")])])])],512)}var b=l(7995),h={props:{item:{}},emits:["delete-item"],data(){return{modal:{}}},mixins:[b.Z]},w=l(3744);const g=(0,w.Z)(h,[["render",m]]);var y=g},2816:function(e,t,l){l.d(t,{Z:function(){return h}});var s=l(6252),a=l(3577),d=l(9963);const r={class:"pagination justify-content-center"},o=(0,s._)("span",{"aria-hidden":"true"},"⇠",-1),i=[o],n=["onClick"],c=(0,s._)("span",{"aria-hidden":"true"},"⇢",-1),p=[c];function u(e,t,l,o,c,u){return(0,s.wg)(),(0,s.iD)("ul",r,[(0,s._)("li",{class:(0,a.C_)(["page-item fs-3",{"d-none":!l.pages.has_pre}])},[(0,s._)("a",{class:"pages-next-link",href:"#",onClick:t[0]||(t[0]=(0,d.iM)((e=>u.updatedPage(l.pages.current_page-1)),["prevent"]))},i)],2),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.pages.total_pages,(e=>((0,s.wg)(),(0,s.iD)("li",{class:(0,a.C_)(["page-item fs-3",{active:l.pages.current_page===e}]),key:e},[(0,s._)("a",{class:"pages-link",href:"#",onClick:(0,d.iM)((t=>u.updatedPage(e)),["prevent"])},(0,a.zw)(e),9,n)],2)))),128)),(0,s._)("li",{class:(0,a.C_)(["page-item fs-3",{"d-none":!l.pages.has_next}])},[(0,s._)("a",{class:"pages-next-link",href:"#",onClick:t[1]||(t[1]=(0,d.iM)((e=>u.updatedPage(l.pages.current_page+1)),["prevent"]))},p)],2)])}var _={props:["pages"],methods:{updatedPage(e){this.$emit("change-page",e)}}},m=l(3744);const b=(0,m.Z)(_,[["render",u]]);var h=b},4491:function(e,t,l){l.r(t),l.d(t,{default:function(){return Pt}});var s=l(6252),a=l(9963),d=l(3577);const r={key:0,class:"position-absolute top-50 start-50 translate-middle fs-1"},o={class:"d-lg-flex justify-content-lg-end mt-md-12 mb-3"},i={for:"searchUserId",class:"d-flex align-items-center border rounded-3"},n=(0,s._)("i",{class:"bi bi-search px-2"},null,-1),c={class:"d-none d-md-table table"},p=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{class:"d-none d-md-table-cell"},"訂購時間"),(0,s._)("th",null,"訂單編號"),(0,s._)("th",{class:"d-none d-lg-table-cell"},"購買人資訊"),(0,s._)("th",{class:"d-none d-lg-table-cell"},"應付金額"),(0,s._)("th",{class:"text-center"},[(0,s.Uk)("付款"),(0,s._)("span",{class:"d-none d-md-inline"},"狀態")]),(0,s._)("th",{class:"text-center"},"詳情"),(0,s._)("th")])],-1),u={class:"d-none d-md-table-cell"},_={class:"d-none d-lg-table-cell"},m={class:"d-none d-lg-table-cell text-right"},b={class:"text-center"},h={key:0,class:"text-success"},w={key:1,class:"text-danger"},g={class:"text-center"},y=["onClick"],x={class:"text-end"},f=["onClick"],v=["onClick"],k={class:"card-body px-0 pb-0"},O={class:"card-text px-3"},D={class:"row mb-2 pb-2 border-bottom"},z=(0,s._)("div",{class:"col-2"},"編號",-1),$={class:"col-10 mb-0"},C={class:"row mb-2"},M=(0,s._)("div",{class:"col-2"},"姓名",-1),W={class:"col-10"},V={class:"row mb-2"},Z=(0,s._)("div",{class:"col-2"},"電話",-1),E={class:"col-10"},L={class:"row mb-2"},I=(0,s._)("div",{class:"col-2"},"信箱",-1),P={class:"col-10"},U={class:"row mb-2"},Y=(0,s._)("div",{class:"col-2"},"日期",-1),q={class:"col-10"},N={class:"row mb-2"},j=(0,s._)("div",{class:"col-2"},"金額",-1),H={class:"col-10"},T={class:"row mb-2"},B=(0,s._)("div",{class:"col-2"},"付款",-1),K={class:"col-10"},S={key:0,class:"text-success"},A={key:1,class:"text-danger"},F={class:"border-top border-1"},G=["onClick"],J=["onClick"],Q=["onClick"],R=(0,s._)("i",{class:"bi bi-x-circle"},null,-1),X=[R];function ee(e,t,l,R,ee,te){const le=(0,s.up)("LoadingView"),se=(0,s.up)("order-watch-modal"),ae=(0,s.up)("order-edit-modal"),de=(0,s.up)("delete-modal"),re=(0,s.up)("pagination");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(le,{active:ee.isLoading},null,8,["active"]),0===ee.orders.length?((0,s.wg)(),(0,s.iD)("div",r,"目前沒有訂單")):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s._)("div",o,[(0,s._)("label",i,[n,(0,s.wy)((0,s._)("input",{type:"text",class:"border-0 p-2",placeholder:"請填入想找的訂單編號",id:"searchUserId","onUpdate:modelValue":t[0]||(t[0]=e=>ee.searchID=e)},null,512),[[a.nr,ee.searchID]])])]),(0,s._)("table",c,[p,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(ee.filterOrder,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id},[(0,s._)("td",u,(0,d.zw)(e.$filters.date(t.create_at)),1),(0,s._)("td",null,(0,d.zw)(t.id),1),(0,s._)("td",_,(0,d.zw)(t.user.name)+" ／ "+(0,d.zw)(t.user.tel)+" ／ "+(0,d.zw)(t.user.email),1),(0,s._)("td",m,"NT$ "+(0,d.zw)(e.$filters.currency(t.total)),1),(0,s._)("td",b,[t.is_paid?((0,s.wg)(),(0,s.iD)("span",h,"YES")):((0,s.wg)(),(0,s.iD)("span",w,"NO"))]),(0,s._)("td",g,[(0,s._)("i",{class:"bi bi-eye-fill pointer",onClick:e=>te.openModal("watch",t)},null,8,y)]),(0,s._)("td",x,[(0,s._)("i",{class:"bi bi-pencil pointer me-1 me-md-4",onClick:e=>te.openModal("edit",t)},null,8,f),(0,s._)("i",{class:"bi bi-trash pointer",onClick:e=>te.openModal("one",t)},null,8,v)])])))),128))])]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(ee.filterOrder,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"card mb-4 d-md-none",key:t.id},[(0,s._)("div",k,[(0,s._)("div",O,[(0,s._)("div",D,[z,(0,s._)("h5",$,(0,d.zw)(t.id),1)]),(0,s._)("div",C,[M,(0,s._)("div",W,[(0,s._)("span",null,(0,d.zw)(t.user.name),1)])]),(0,s._)("div",V,[Z,(0,s._)("div",E,[(0,s._)("span",null,(0,d.zw)(t.user.tel),1)])]),(0,s._)("div",L,[I,(0,s._)("div",P,[(0,s._)("span",null,(0,d.zw)(t.user.email),1)])]),(0,s._)("div",U,[Y,(0,s._)("div",q,[(0,s._)("span",null,(0,d.zw)(e.$filters.date(t.create_at)),1)])]),(0,s._)("div",N,[j,(0,s._)("div",H,[(0,s._)("span",null,"NT$ "+(0,d.zw)(e.$filters.currency(t.total)),1)])]),(0,s._)("div",T,[B,(0,s._)("div",K,[t.is_paid?((0,s.wg)(),(0,s.iD)("span",S,"YES")):((0,s.wg)(),(0,s.iD)("span",A,"NO"))])])]),(0,s._)("div",F,[(0,s._)("button",{class:"order-phoneSize-edit-btn col-4 border-0 border-end py-2 text-primary",onClick:e=>te.openModal("watch",t)}," 詳情 ",8,G),(0,s._)("button",{class:"order-phoneSize-edit-btn col-4 border-0 border-end py-2 text-success",onClick:e=>te.openModal("edit",t)}," 編輯 ",8,J),(0,s._)("button",{class:"order-phoneSize-edit-btn col-4 border-0 py-2 text-danger",onClick:e=>te.openModal("one",t)}," 刪除 ",8,Q)])])])))),128)),(0,s._)("button",{class:"icon-btn position-fixed bottom-15 end-5","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"刪除",ref:"tooltip",onClick:t[1]||(t[1]=e=>te.openModal("all",ee.orders))},X,512),(0,s.Wm)(se,{ref:"showOrderWatchModal",tempOrder:ee.tempOrder},null,8,["tempOrder"]),(0,s.Wm)(ae,{ref:"showOrderEditModal",tempOrder:ee.tempOrder,onEditOrder:te.editOrder},null,8,["tempOrder","onEditOrder"]),(0,s.Wm)(de,{ref:"showDeleteModal",item:ee.tempOrder,type:ee.key,onDeleteItem:te.deleteOrder},null,8,["item","type","onDeleteItem"]),ee.pagination.total_pages>1?((0,s.wg)(),(0,s.j4)(re,{key:0,pages:ee.pagination,onChangePage:te.getOrders},null,8,["pages","onChangePage"])):(0,s.kq)("",!0)],64))],64)}const te={class:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",ref:"modal"},le={class:"modal-dialog modal-xl",role:"document"},se={class:"modal-content border-0"},ae=(0,s._)("div",{class:"modal-header bg-primary text-white"},[(0,s._)("h5",{class:"modal-title",id:"exampleModalLabel"},[(0,s._)("span",null,"訂單細節")]),(0,s._)("input",{type:"button",value:"✕",class:"bg-transparent border-0 text-white","data-bs-dismiss":"modal","aria-label":"Close"})],-1),de={class:"modal-body"},re={class:"row"},oe={class:"col-12 col-lg-4 position-relative"},ie=(0,s._)("h3",{style:{"text-shadow":"3px 6px 1px #dcdddf"}},"用戶資料",-1),ne={class:"table border-top border-2 border-primary"},ce={key:0,class:"border box-shadow"},pe=(0,s._)("th",{style:{width:"100px"}},"姓名",-1),ue=(0,s._)("th",null,"Email",-1),_e=(0,s._)("th",null,"電話",-1),me=(0,s._)("th",null,"地址",-1),be={class:"col-12 col-lg-8"},he=(0,s._)("h3",{style:{"text-shadow":"3px 6px 1px #dcdddf"}},"訂單細節",-1),we={class:"table border-top border-3 border-primary"},ge={class:"border box-shadow"},ye=(0,s._)("th",{style:{width:"100px"}},"訂單編號",-1),xe=(0,s._)("th",null,"下單時間",-1),fe=(0,s._)("th",null,"付款時間",-1),ve={key:0},ke={key:1},Oe=(0,s._)("th",null,"付款狀態",-1),De={key:0,class:"text-success"},ze={key:1,class:"text-danger"},$e=(0,s._)("th",null,"總金額",-1),Ce={class:"text-danger"},Me=(0,s._)("h3",{class:"border-bottom border-3 border-primary mb-0 pb-2",style:{"text-shadow":"3px 6px 1px #dcdddf"}},"選購商品",-1),We={class:"order-user-buy-product overflow-scroll border box-shadow"},Ve={class:"table mb-0"},Ze={class:"d-flex"},Ee={class:"border text-secondary text-center me-2 mb-0",style:{width:"70px"}},Le={class:"text-end px-0"},Ie={class:"d-none d-md-table-cell text-end"};function Pe(e,t,l,a,r,o){return(0,s.wg)(),(0,s.iD)("div",te,[(0,s._)("div",le,[(0,s._)("div",se,[ae,(0,s._)("div",de,[(0,s._)("div",re,[(0,s._)("div",oe,[ie,(0,s._)("table",ne,[r.order.user?((0,s.wg)(),(0,s.iD)("tbody",ce,[(0,s._)("tr",null,[pe,(0,s._)("td",null,(0,d.zw)(r.order.user.name),1)]),(0,s._)("tr",null,[ue,(0,s._)("td",null,(0,d.zw)(r.order.user.email),1)]),(0,s._)("tr",null,[_e,(0,s._)("td",null,(0,d.zw)(r.order.user.tel),1)]),(0,s._)("tr",null,[me,(0,s._)("td",null,(0,d.zw)(r.order.user.address),1)])])):(0,s.kq)("",!0)])]),(0,s._)("div",be,[he,(0,s._)("table",we,[(0,s._)("tbody",ge,[(0,s._)("tr",null,[ye,(0,s._)("td",null,(0,d.zw)(r.order.id),1)]),(0,s._)("tr",null,[xe,(0,s._)("td",null,(0,d.zw)(e.$filters.date(r.order.create_at)),1)]),(0,s._)("tr",null,[fe,(0,s._)("td",null,[r.order.paid_date?((0,s.wg)(),(0,s.iD)("span",ve,(0,d.zw)(e.$filters.date(r.order.paid_date)),1)):((0,s.wg)(),(0,s.iD)("span",ke))])]),(0,s._)("tr",null,[Oe,(0,s._)("td",null,[r.order.is_paid?((0,s.wg)(),(0,s.iD)("strong",De,"已付款")):((0,s.wg)(),(0,s.iD)("span",ze,"尚未付款"))])]),(0,s._)("tr",null,[$e,(0,s._)("td",Ce," NT$ "+(0,d.zw)(e.$filters.currency(r.order.total)),1)])])]),Me,(0,s._)("div",We,[(0,s._)("table",Ve,[(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.order.products,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id},[(0,s._)("th",null,[(0,s._)("div",Ze,[(0,s._)("p",Ee,(0,d.zw)(t.product.category),1),(0,s._)("span",null,(0,d.zw)(t.product.title),1)])]),(0,s._)("td",Le,(0,d.zw)(t.qty)+" ／ "+(0,d.zw)(t.product.unit),1),(0,s._)("td",Ie,[(0,s._)("span",null,"NT$"+(0,d.zw)(e.$filters.currency(t.final_total)),1)])])))),128))])])])])])])])])],512)}var Ue=l(7995),Ye={props:{tempOrder:{}},watch:{tempOrder(){this.order=this.tempOrder}},data(){return{modal:{},order:{}}},mixins:[Ue.Z]},qe=l(3744);const Ne=(0,qe.Z)(Ye,[["render",Pe]]);var je=Ne;const He={class:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",ref:"modal"},Te={class:"modal-dialog modal-xl",role:"document"},Be={class:"modal-content border-0"},Ke=(0,s._)("div",{class:"modal-header bg-primary text-white"},[(0,s._)("h5",{class:"modal-title",id:"exampleModalLabel"},[(0,s._)("span",null,"編輯訂單")]),(0,s._)("input",{type:"button",value:"✕",class:"bg-transparent border-0 text-white","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Se={class:"modal-body"},Ae={class:"row"},Fe={class:"col-12 col-lg-4 position-relative"},Ge=(0,s._)("h3",{style:{"text-shadow":"3px 6px 1px #dcdddf"}},"用戶資料",-1),Je={class:"table border-top border-2 border-primary"},Qe={key:0,class:"border box-shadow"},Re=(0,s._)("th",{class:"position-relative",style:{width:"100px"}},[(0,s._)("label",{for:"name",class:"form-label position-absolute top-50 translate-middle-y"},"姓名")],-1),Xe=(0,s._)("th",{class:"position-relative"},[(0,s._)("label",{for:"email",class:"form-label position-absolute top-50 translate-middle-y"},"Email")],-1),et=(0,s._)("th",{class:"position-relative"},[(0,s._)("label",{for:"tel",class:"form-label position-absolute top-50 translate-middle-y"},"電話")],-1),tt=(0,s._)("th",{class:"position-relative"},[(0,s._)("label",{for:"address",class:"form-label position-absolute top-50 translate-middle-y"},"地址")],-1),lt={class:"col-12 col-lg-8"},st=(0,s._)("h3",{style:{"text-shadow":"3px 6px 1px #dcdddf"}},"訂單細節",-1),at={class:"table border-top border-3 border-primary"},dt={class:"border box-shadow"},rt=(0,s._)("th",{style:{width:"100px"}},"訂單編號",-1),ot=(0,s._)("th",null,"下單時間",-1),it=(0,s._)("th",null,"付款時間",-1),nt={key:0},ct={key:1},pt=(0,s._)("th",null,"付款狀態",-1),ut={class:"d-flex justify-content-between align-items-center"},_t={class:"checkbox"},mt={for:"isPaid"},bt={key:0,class:"text-success fw-bold"},ht={key:1,class:"text-danger"},wt=(0,s._)("th",null,"總金額",-1),gt={class:"text-danger"},yt=(0,s._)("h3",{class:"border-bottom border-3 border-primary mb-0 pb-2",style:{"text-shadow":"3px 6px 1px #dcdddf"}},"選購商品（編輯）",-1),xt={class:"order-user-buy-product overflow-scroll border box-shadow"},ft={class:"table mb-0"},vt={class:"d-flex"},kt={class:"border text-secondary text-center me-2 mb-0",style:{width:"70px"}},Ot={class:"text-end px-0"},Dt={class:"d-none d-md-table-cell text-end"},zt={class:"modal-footer"},$t=(0,s._)("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"},"取消",-1);function Ct(e,t,l,r,o,i){const n=(0,s.up)("v-field"),c=(0,s.up)("error-message"),p=(0,s.up)("v-form");return(0,s.wg)(),(0,s.iD)("div",He,[(0,s._)("div",Te,[(0,s._)("div",Be,[Ke,(0,s._)("div",Se,[(0,s._)("div",Ae,[(0,s._)("div",Fe,[Ge,(0,s.Wm)(p,null,{default:(0,s.w5)((({errors:e})=>[(0,s._)("table",Je,[o.order.user?((0,s.wg)(),(0,s.iD)("tbody",Qe,[(0,s._)("tr",null,[Re,(0,s._)("td",null,[(0,s.Wm)(n,{type:"text",class:(0,d.C_)(["form-control",{"is-invalid":e["姓名"]}]),id:"name",modelValue:o.order.user.name,"onUpdate:modelValue":t[0]||(t[0]=e=>o.order.user.name=e),name:"姓名",rules:"required"},null,8,["modelValue","class"]),(0,s.Wm)(c,{name:"姓名",class:"invalid-feedback"})])]),(0,s._)("tr",null,[Xe,(0,s._)("td",null,[(0,s.Wm)(n,{type:"text",class:(0,d.C_)(["form-control",{"is-invalid":e["信箱"]}]),id:"email",modelValue:o.order.user.email,"onUpdate:modelValue":t[1]||(t[1]=e=>o.order.user.email=e),name:"信箱",rules:"email|required"},null,8,["modelValue","class"]),(0,s.Wm)(c,{name:"信箱",class:"invalid-feedback"})])]),(0,s._)("tr",null,[et,(0,s._)("td",null,[(0,s.Wm)(n,{type:"text",class:(0,d.C_)(["form-control",{"is-invalid":e["電話"]}]),id:"tel",modelValue:o.order.user.tel,"onUpdate:modelValue":t[2]||(t[2]=e=>o.order.user.tel=e),name:"電話",rules:i.isPhone},null,8,["modelValue","class","rules"]),(0,s.Wm)(c,{name:"電話",class:"invalid-feedback"})])]),(0,s._)("tr",null,[tt,(0,s._)("td",null,[(0,s.Wm)(n,{type:"text",class:(0,d.C_)(["form-control",{"is-invalid":e["地址"]}]),id:"address",modelValue:o.order.user.address,"onUpdate:modelValue":t[3]||(t[3]=e=>o.order.user.address=e),name:"地址",rules:"required"},null,8,["modelValue","class"]),(0,s.Wm)(c,{name:"地址",class:"invalid-feedback"})])])])):(0,s.kq)("",!0)])])),_:1})]),(0,s._)("div",lt,[st,(0,s._)("table",at,[(0,s._)("tbody",dt,[(0,s._)("tr",null,[rt,(0,s._)("td",null,(0,d.zw)(o.order.id),1)]),(0,s._)("tr",null,[ot,(0,s._)("td",null,(0,d.zw)(e.$filters.date(o.order.create_at)),1)]),(0,s._)("tr",null,[it,(0,s._)("td",null,[o.order.paid_date?((0,s.wg)(),(0,s.iD)("span",nt,(0,d.zw)(e.$filters.date(o.order.paid_date)),1)):((0,s.wg)(),(0,s.iD)("span",ct))])]),(0,s._)("tr",null,[pt,(0,s._)("td",ut,[(0,s._)("div",_t,[(0,s._)("label",mt,[(0,s.wy)((0,s._)("input",{type:"checkbox",id:"isPaid","onUpdate:modelValue":t[4]||(t[4]=e=>o.order.is_paid=e)},null,512),[[a.e8,o.order.is_paid]]),(0,s._)("span",null,[o.order.is_paid?((0,s.wg)(),(0,s.iD)("span",bt,"已付款")):((0,s.wg)(),(0,s.iD)("span",ht,"尚未付款"))])])])])]),(0,s._)("tr",null,[wt,(0,s._)("td",gt," NT$ "+(0,d.zw)(e.$filters.currency(o.order.total)),1)])])]),yt,(0,s._)("div",xt,[(0,s._)("table",ft,[(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.order.products,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id},[(0,s._)("th",null,[(0,s._)("div",vt,[(0,s._)("p",kt,(0,d.zw)(t.product.category),1),(0,s._)("span",null,(0,d.zw)(t.product.title),1)])]),(0,s._)("td",Ot,(0,d.zw)(t.qty)+" ／ "+(0,d.zw)(t.product.unit),1),(0,s._)("td",Dt,[(0,s._)("span",null,"NT$"+(0,d.zw)(e.$filters.currency(t.final_total)),1)])])))),128))])])])])])]),(0,s._)("div",zt,[$t,(0,s._)("button",{type:"button",class:"btn btn-primary",onClick:t[5]||(t[5]=t=>e.$emit("edit-order",o.order))},"確認 ")])])])],512)}var Mt={props:{tempOrder:{type:Object,default(){return{}}}},emits:["edit-order"],inject:["emitter"],mixins:[Ue.Z],watch:{tempOrder(){this.order=this.tempOrder}},data(){return{modal:{},order:{}}},methods:{isPhone(e){const t=/^(09)[0-9]{8}$/;return!!t.test(e)||"請輸入正確的電話號碼"}}};const Wt=(0,qe.Z)(Mt,[["render",Ct]]);var Vt=Wt,Zt=l(9946),Et=l(2816),Lt={components:{orderWatchModal:je,orderEditModal:Vt,deleteModal:Zt.Z,pagination:Et.Z},data(){return{isLoading:!1,orders:[],filterOrder:[],tempOrder:{},pagination:{},searchID:"",key:""}},inject:["emitter"],watch:{searchID(){""===this.searchID?this.filterOrder=this.orders:(this.filterOrder=[],this.orders.forEach((e=>{e.id===this.searchID.trim()&&this.filterOrder.push(e)})))},orders(){this.filterOrder=this.orders}},methods:{getOrders(e=1){this.isLoading=!0;const t=`https://vue3-course-api.hexschool.io/api/irenelee-api/admin/orders?page=${e}`;this.$http.get(t).then((e=>{this.isLoading=!1,this.orders=e.data.orders,this.pagination=e.data.pagination})).catch((e=>console.log(e.response)))},openModal(e,t){this.tempOrder={...t},"watch"===e?this.$refs.showOrderWatchModal.showModal():"edit"===e?this.$refs.showOrderEditModal.showModal():(this.key=e,this.$refs.showDeleteModal.showModal())},editOrder(e){this.tempOrder=e;const t=`https://vue3-course-api.hexschool.io/api/irenelee-api/admin/order/${this.tempOrder.id}`;this.$http.put(t,{data:this.tempOrder}).then((e=>{e.data.success&&(this.$refs.showOrderEditModal.hideModal(),this.getOrders(),this.$message("success","編輯成功"))})).catch((e=>console.log(e.response)))},deleteOrder(){if("one"===this.key){const e=`https://vue3-course-api.hexschool.io/api/irenelee-api/admin/order/${this.tempOrder.id}`;this.$http.delete(e).then((e=>{e.data.success&&(this.$refs.showDeleteModal.hideModal(),this.getOrders(),this.$message("success","刪除成功"))})).catch((e=>console.log(e.response)))}else{const e="https://vue3-course-api.hexschool.io/api/irenelee-api/admin/orders/all";this.$http.delete(e).then((e=>{e.data.success&&(this.$refs.showDeleteModal.hideModal(),this.getOrders(),this.$message("success","刪除成功"))})).catch((e=>console.log(e.response)))}}},created(){this.getOrders()}};const It=(0,qe.Z)(Lt,[["render",ee]]);var Pt=It}}]);
//# sourceMappingURL=491.d457412d.js.map